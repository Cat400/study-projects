#include <stdio.h>

#define MAX_SIZE 15

int check_sign(char p){
    char symbol_need_space[10]={'!', '.', ',', '(', ';', ':', '-', '?'};
    for (int j=0; j < 10; j++){
        if(p == symbol_need_space[j]){
            return 1;
        }
    }
    return 0;
}

void correcttext(char *p){
    int number;
    check_sign(1);
    for(int i=0; i < 2 * MAX_SIZE; i++){
        if( ( p[i+1] == '.' || p[i+1] == ',')&&(p[i] == ' ') ){//удаление пробелов перед точкой и запятой
           for(int j=i; j < 2 * MAX_SIZE ; j++){
               p[j]=p[j+1];
           }
       } 
        if((p[i] == ' ')&&(p[i+1]==' ')){//удаление двух пробелов, следующих подряд
          for(int j=i+1; j < 2 * MAX_SIZE-1; j++){
              p[j] = p[j+1];
          } 
       }
       if(check_sign(p[i]) && ( p[i+1] != 32)){//пробел после знаков препинания
        for(int j = 2 * MAX_SIZE-1; j > i; j--)   {
            p[j] = p[j-1]; 
        }
        p[i+1] = ' ';
       }
       if( ( p[i] > '@' )&&( p[i] < '[' )&&( p[i-2] != '.' )&&( i > 1 )){//замена на строчную букву если прежде нет точки
           p[i] = p[i] + 32;
       }
    }
}


int main()
{
    char text[2 * MAX_SIZE];
    printf("input your text not more %d symbols", MAX_SIZE);
    fgets(text, MAX_SIZE, stdin);
    //for(int i=0; i < MAX_SIZE; i++){
        //printf("%c\t", mass[i]);
    //}
    correcttext(text);
    printf("%s", text);
    
}
